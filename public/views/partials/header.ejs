<header class="site-header">
    <nav class="nav">
        <div class="container">
            <div class="nav-content">
                <!-- Logo/Brand -->
                <div class="nav-brand">
                    <a href="/" class="brand-link">
                        <span class="brand-text">Tech<span class="accent">Platform</span></span>
                    </a>
                </div>

                <!-- Main Navigation -->
                <div class="nav-links">
                    <% if (locals.user) { %>
                        <a href="/dashboard" class="nav-link">Dashboard</a>
                        
                        <% if (locals.user.isAdmin) { %>
                            <a href="/admin" class="nav-link">Admin</a>
                        <% } %>
                        
                        <!-- User Menu Dropdown -->
                        <div class="user-menu">
                            <button class="user-menu-trigger nav-link">
                                <%= user.username %>
                                <span class="chevron-down">â–¼</span>
                            </button>
                            <div class="user-dropdown glass-card">
                                <a href="/profile" class="dropdown-item">Profile</a>
                                <a href="/settings" class="dropdown-item">Settings</a>
                                <div class="dropdown-divider"></div>
                                <a href="#" id="logoutBtn" class="dropdown-item">Logout</a>
                            </div>
                        </div>
                    <% } else { %>
                        <a href="/login" class="nav-link">Login</a>
                        <a href="/register" class="nav-link btn btn-primary">Register</a>
                    <% } %>

                    <!-- Dark Mode Toggle -->
                    <button id="darkModeToggle" class="nav-link theme-toggle" aria-label="Toggle dark mode">
                        <svg class="moon-icon" width="20" height="20" viewBox="0 0 24 24">
                            <path fill="currentColor" d="M12 3c.3 0 .6.2.7.5.4.8 1.2 1.3 2.1 1.3.3 0 .5.2.5.5s-.2.5-.5.5c-.9 0-1.7.5-2.1 1.3-.1.3-.4.5-.7.5s-.6-.2-.7-.5c-.4-.8-1.2-1.3-2.1-1.3-.3 0-.5-.2-.5-.5s.2-.5.5-.5c.9 0 1.7-.5 2.1-1.3.1-.3.4-.5.7-.5z"/>
                        </svg>
                    </button>
                </div>

                <!-- Mobile Menu Trigger -->
                <button class="mobile-menu-trigger" aria-label="Toggle menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
    </nav>

    <!-- Flash Messages -->
    <% if (locals.messages) { %>
        <div class="container">
            <% if (messages.error) { %>
                <div class="alert alert-error">
                    <%= messages.error %>
                </div>
            <% } %>
            <% if (messages.success) { %>
                <div class="alert alert-success">
                    <%= messages.success %>
                </div>
            <% } %>
        </div>
    <% } %>
</header>
